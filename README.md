# Структура приложения

- `src/` — исходный код (React, Node.js)
- `docs/` — автогенерируемая документация
- `README.md` — основная информация

# Инструменты разработки

- React
- Node.js
- PostgreSQL
- JSDoc (или TypeDoc для TypeScript) — генерация документации по коду
- dbdocs/dbdiagram.io — описание структуры БД

# Документация

Документация по функциям и структурам данных генерируется автоматически с помощью JSDoc (или TypeDoc). Описание структуры БД — вручную или с помощью dbdocs.

## Как обновлять документацию

1. Запусти команду `npm run docs` для генерации/обновления документации.
2. Документация появится в папке `docs/`.
3. Перед добавлением нового кода или функций всегда смотри в актуальную документацию!

## Правила

- Всегда обновляй документацию после изменений в коде.
- Перед написанием нового кода проверяй, нет ли уже нужной функции или структуры.
- Документация должна быть актуальной и понятной.

## Документация по структуре БД

- Структура базы данных описывается в файле `docs/db.dbml` в формате [dbml](https://www.dbml.org/home/).
- При изменениях в структуре БД обязательно обновляй этот файл.
- Для визуализации и генерации документации можно использовать [dbdocs.io](https://dbdocs.io/) или [dbdiagram.io](https://dbdiagram.io/).
- Я всегда буду использовать этот файл для анализа структуры БД и генерации кода, связанного с базой данных.

## Автоматическое обновление структуры БД

- Для автоматического обновления файла `docs/db.dbml` используется связка pg_dump и dbml-cli.
- Перед запуском укажи переменные окружения: PGUSER, PGPASSWORD, PGHOST, PGPORT, PGDATABASE.
- Запусти команду:
  ```bash
  npm run db:schema
  ```
- В результате будут обновлены файлы `docs/schema.sql` (дамп схемы) и `docs/db.dbml` (структура в dbml). 