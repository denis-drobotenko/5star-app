require('./app'); // Просто импортируем app.js для запуска инициализации и сервера
const logger = require('./config/logger');

// Удаляем все остальное, так как app.listen и обработчики сигналов теперь не нужны здесь
// или должны быть пересмотрены, если мы хотим сохранить graceful shutdown в этом файле.
// Пока что для простоты оставим только запуск.

// Обработка сигналов для корректного завершения
// Можно оставить, если есть специфичная логика завершения, 
// но базовый process.exit(0) уже есть в app.js при ошибке, 
// а для штатного завершения Nodemon обычно справляется.
// Для чистоты, если app.listen уже в app.js, то эти обработчики могут быть и там.
// Давайте пока их оставим, но они могут быть избыточны или конфликтовать.

process.on('SIGTERM', () => {
  logger.info('Получен SIGTERM в server.js. Завершаю работу...');
  // Если сервер запускается из app.js, этот process.exit может быть не нужен
  // или должен координироваться с сервером в app.js.
  // Пока что оставим, но это кандидат на рефакторинг.
  process.exit(0);
});

process.on('SIGINT', () => {
  logger.info('Получен SIGINT (Ctrl+C) в server.js. Завершаю работу...');
  process.exit(0);
});
